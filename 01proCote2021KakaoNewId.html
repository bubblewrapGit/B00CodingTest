<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01proCote2021KakaoNewId.html</title>

    <script>
        /* [문제제시]
        아이디의 길이는 3자 이상 15자 이하여야 합니다.
        아이디는 알파벳 소문자, 숫자, 빼기(-), 밑줄(_), 마침표(.) 문자만 사용할 수 있습니다.
        단, 마침표(.)는 처음과 끝에 사용할 수 없으며 또한 연속으로 사용할 수 없습니다.
        */
        // var new_id = "...!@BaT#*..y.abcdefghijklm";
        // var new_id = "...!@BaT#*..y.abcdefghijklm";
        var new_id = "abcdefghijklmn.p";
        // var new_id = "z-+.^.";
        
        /*
        1단계 대문자 'B'와 'T'가 소문자 'b'와 't'로 바뀌었습니다.
        "...!@BaT#*..y.abcdefghijklm" → "...!@bat#*..y.abcdefghijklm"
        */
        function solution1(new_id) {
            new_id = new_id.toLowerCase();
            return new_id;  
        }   
        console.log("[1단계] ", solution1(new_id));
        /*
        2단계 '!', '@', '#', '*' 문자가 제거되었습니다.
        "...!@bat#*..y.abcdefghijklm" → "...bat..y.abcdefghijklm"
        */
        function solution2(new_id) {
            new_id = new_id.toLowerCase();
            new_id = new_id.replaceAll("!", "").replaceAll("@", "").replaceAll("#", "").replaceAll("*", "");
            return new_id;  
        }   
        console.log("[2단계] ", solution2(new_id));

        /*
        3단계 '...'와 '..' 가 '.'로 바뀌었습니다.
        "...bat..y.abcdefghijklm" → ".bat.y.abcdefghijklm"
        */
        function solution3(new_id) {
            new_id = new_id.toLowerCase();
            new_id = new_id.replaceAll("!", "").replaceAll("@", "").replaceAll("#", "").replaceAll("*", "");
            new_id = new_id.replaceAll("...",".").replaceAll("..",".");
            return new_id;  
        }   
        console.log("[3단계] ", solution3(new_id));
        /*
        4단계 아이디의 처음에 위치한 '.'가 제거되었습니다.
        ".bat.y.abcdefghijklm" → "bat.y.abcdefghijklm"
        */
        function solution4(new_id) {
            new_id = new_id.toLowerCase();
            new_id = new_id.replaceAll("!", "").replaceAll("@", "").replaceAll("#", "").replaceAll("*", "");
            new_id = new_id.replaceAll("...",".").replaceAll("..",".");
            new_id = new_id.replace(new_id.substr(0,1),"");
            return new_id;  
        }   
        console.log("[4단계] ", solution4(new_id));

        /*
        5단계 아이디가 빈 문자열이 아니므로 변화가 없습니다.
        "bat.y.abcdefghijklm" → "bat.y.abcdefghijklm"
        */
        function solution5(new_id) {
            new_id = new_id.toLowerCase();
            new_id = new_id.replaceAll("!", "").replaceAll("@", "").replaceAll("#", "").replaceAll("*", "");
            new_id = new_id.replaceAll("...",".").replaceAll("..",".");
            new_id = new_id.replace(new_id.substr(0,1),"");
            new_id = new_id.replaceAll(" ", "");
            return new_id;  
        }   
        console.log("[5단계] ", solution5(new_id));
        /*
        6단계 아이디의 길이가 16자 이상이므로, 처음 15자를 제외한 나머지 문자들이 제거되었습니다.
        "bat.y.abcdefghijklm" → "bat.y.abcdefghi"
        */
        function solution6(new_id) {
            new_id = new_id.toLowerCase();
            new_id = new_id.replaceAll("!", "").replaceAll("@", "").replaceAll("#", "").replaceAll("*", "");
            new_id = new_id.replaceAll("...",".").replaceAll("..",".");
            new_id = new_id.replace(new_id.substr(0,1),"");
            new_id = new_id.replaceAll(" ", "");
            if(new_id.length >= 16){
                new_id = new_id.substr(0,15);
            }
            return new_id;  
        }   
        console.log("[6단계] ", solution6(new_id));

        /*
        7단계 아이디의 길이가 2자 이하가 아니므로 변화가 없습니다.
        "bat.y.abcdefghi" → "bat.y.abcdefghi"
        */
        function solution7(new_id) {
            new_id = new_id.toLowerCase();
            new_id = new_id.replaceAll("!", "").replaceAll("@", "").replaceAll("#", "").replaceAll("*", "");
            new_id = new_id.replaceAll("...",".").replaceAll("..",".");
            new_id = new_id.replace(new_id.substr(0,1),"");
            new_id = new_id.replaceAll(" ", "");
            if(new_id.length >= 16){
                new_id = new_id.substr(0,15);
            }
            if(new_id.length < 3){
                var plusStr = new_id.substr(new_id.length-1, 1);
                for(var i=new_id.length; i<3; i++){
                    new_id += plusStr;
                }
            }
            return new_id;  
        }   
        console.log("[7단계] ", solution7(new_id));

        /*
        제출단계
        */
        function solution(new_id) {
            var answer = new_id;

            answer = answer.toLowerCase();
            answer = answer.replace(/[^a-z0-9\-\_\.]/gi,"");
            answer = answer.replace(/\.+/gi,".");
            answer = answer.replace(/^\./gi,"").replace(/\.$/gi,"");
            if(answer == ""){
                answer += "a";
            }
            answer = answer.replace(/\ +/gi, "");
            if(answer.length >= 16){
                answer = answer.substr(0,15);
                if(answer.substr(-1,1) == "."){
                    answer = answer.replace(/\.$/gi,"");
                }
            }
            if(answer.length < 3){
                var plusStr = answer.substr(answer.length-1, 1);
                for(var i=answer.length; i<3; i++){
                    answer += plusStr;
                }
            }
            
            return answer;  
        }   
        console.log("[제출단계] ", solution(new_id));
    </script>
</head>
<body>
    <h2>프로그래머스 코딩테스트 2021 KAKAO - 신규 아이디 추천</h2>
    <div class="container">

    </div>
</body>
</html>